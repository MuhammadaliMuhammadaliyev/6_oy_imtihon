{% extends "base.html" %}
{% load i18n %}
{% block title %}{% trans "Kategoriyalar" %}{% endblock %}

{% block content %}
<div class="grid">

  <div class="card">
    <div class="row" style="justify-content:space-between">
      <div>
        <div class="h1">{% trans "Kategoriyalar" %}</div>
        <div class="muted">{% trans "Kirim/Chiqim kategoriyalarini boshqarish" %}</div>
      </div>

      <a class="btn primary" href="{% url 'finance:category_create' %}">
        + {% trans "Kategoriya qo‘shish" %}
      </a>
    </div>

    <div class="hr"></div>

    <div class="table-wrap">
      <table>
        <tr>
          <th>{% trans "Nomi" %}</th>
          <th>{% trans "Turi" %}</th>
          <th>{% trans "Amal" %}</th>
        </tr>

        {% for c in categories %}
        <tr>
          <td>{{ c.name }}</td>
          <td>
            {% if c.type == "IN" %}
              <span class="badge in">{% trans "Kirim" %}</span>
            {% else %}
              <span class="badge ex">{% trans "Chiqim" %}</span>
            {% endif %}
          </td>
          <td class="row">
            <a class="btn" href="{% url 'finance:category_update' c.id %}">{% trans "Tahrirlash" %}</a>

            <form method="post" action="{% url 'finance:category_delete' c.id %}">
              {% csrf_token %}
              <button class="btn danger" type="submit">{% trans "O‘chirish" %}</button>
            </form>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="3" class="muted">{% trans "Hali kategoriya yo‘q." %}</td>
        </tr>
        {% endfor %}
      </table>
    </div>

    <div class="hr"></div>
    <a class="btn ghost" href="{% url 'finance:dashboard' %}">← {% trans "Boshqaruv paneli" %}</a>
  </div>

</div>
{% endblock %}
